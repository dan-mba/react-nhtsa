{"version":3,"sources":["util/Endpoints.js","VehicleContext.js","Year.js","Make.js","Model.js","Campaign.js","App.js","index.js"],"names":["endpoint","VehicleContext","React","createContext","Year","changeYear","useContext","useState","years","setYears","useEffect","length","$","ajax","url","dataType","done","data","newYears","i","Count","push","Results","ModelYear","className","id","onChange","e","year","target","value","map","key","toString","Make","changeMake","makes","setMakes","handleChange","make","newMakes","Consumer","replace","Model","changeModel","models","setModels","model","newModels","Campaign","campaigns","setCampaigns","newCampaigns","bStyle","fontWeight","tStyle","textAlign","campaign","NHTSACampaignNumber","style","date","ReportReceivedDate","Date","parseInt","substr","split","slice","join","Summary","Conequence","Remedy","App","setYear","setMake","setModel","context","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0d3973dc.chunk.js","sourcesContent":["export const endpoint = \"https://one.nhtsa.gov/webapi/api/Recalls/vehicle\";\r\nexport const datatype = \"?format=json\";\r\n","import React from 'react';\nconst VehicleContext = React.createContext();\n\nexport default VehicleContext;\n","/**********\r\n\r\nYear Component\r\nGets year data from server & generates select statement\r\n\r\n**********/\r\nimport React, {useContext, useEffect, useState} from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport $ from 'jquery';\r\nimport VehicleContext from './VehicleContext';\r\n\r\nfunction Year() {\r\n  const {changeYear} = useContext(VehicleContext);\r\n  const [years, setYears] = useState([]);\r\n  \r\n  \r\n  function handleChange(e){\r\n    const year = e.target.value;\r\n    changeYear(year);\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if(years.length) return;\r\n    var xhr = $.ajax({ url: endpoint+datatype,\r\n                       dataType: 'jsonp'\r\n                    });\r\n    xhr.done( function(data) {\r\n      var newYears = [];\r\n      \r\n      /* Start at 1 because the value at Results[0] is erroneus */\r\n      for(var i=1; i < data.Count; i++) {\r\n        newYears.push(data.Results[i].ModelYear);\r\n      }\r\n      \r\n      setYears(newYears);\r\n    });\r\n  });\r\n  \r\n  return (\r\n    <div className='selectdiv' id='year'>\r\n      <select onChange={handleChange}>\r\n        <option value=\"\">Year:</option>\r\n        {\r\n          years.map((year) =>\r\n            <option value={year} key={year.toString()}>\r\n              {year}\r\n            </option>\r\n          )\r\n        }\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Year;\r\n","/**********\r\n\r\nMake Component\r\nGets make data from server & generates select statement\r\n\r\n**********/\r\nimport React, {useEffect, useState, useContext} from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport $ from 'jquery';\r\nimport VehicleContext from './VehicleContext';\r\n\r\nfunction Make() {\r\n  const {year, changeMake} = useContext(VehicleContext);\r\n  const [makes, setMakes] = useState([]);\r\n    \r\n  function handleChange(e){\r\n    const make = e.target.value;\r\n    changeMake(make);\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if(year === \"\") return;\r\n    var xhr = $.ajax({ url: endpoint+'/modelyear/'+year+datatype,\r\n                       dataType: 'jsonp'\r\n                    });\r\n    xhr.done( function(data) {\r\n      var newMakes = [];\r\n      \r\n      for(var i=0; i < data.Count; i++) {\r\n        newMakes.push(data.Results[i].Make);\r\n      }\r\n      \r\n      setMakes(newMakes);\r\n    });\r\n  }, [year]);\r\n  \r\n  return (\r\n    <div className='selectdiv' id='make'>\r\n      <VehicleContext.Consumer>\r\n        {({make}) => {\r\n          return (\r\n            <select\r\n              value={make}\r\n              onChange={handleChange}\r\n            >\r\n              <option value=\"\">Make:</option>\r\n              {\r\n                makes.map((make) =>\r\n                  <option value={make.replace('/&/g','_')} key={make}>\r\n                    {make}\r\n                  </option>\r\n                )\r\n              }\r\n            </select>\r\n          )\r\n        }}\r\n      </VehicleContext.Consumer>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default Make;\r\n","/**********\r\n\r\nModel Component\r\nGets Model options from server & generates select statement\r\n\r\n**********/\r\nimport React, {useContext, useState, useEffect} from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport $ from 'jquery';\r\nimport VehicleContext from './VehicleContext';\r\n\r\nfunction Model(){\r\n  const {year, make, changeModel} = useContext(VehicleContext);\r\n  const [models, setModels] = useState([]);\r\n  \r\n  function handleChange(e){\r\n    const model = e.target.value;\r\n    changeModel(model);\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if (year === \"\" || make === \"\") {\r\n      setModels([]);\r\n      return;\r\n    }\r\n    \r\n    var xhr = $.ajax({ url: endpoint+'/modelyear/'+year+'/make/'+make+datatype,\r\n                       dataType: 'jsonp',\r\n                       year: year,\r\n                       make: make\r\n                    });\r\n    xhr.done( function(data) {\r\n      var newModels = [];\r\n      \r\n      for(var i=0; i < data.Count; i++) {\r\n        newModels.push(data.Results[i].Model);\r\n      }\r\n      \r\n      setModels(newModels);\r\n    });\r\n  },[year,make]);\r\n  \r\n  return (\r\n    <div className='selectdiv' id='model'>\r\n      <VehicleContext.Consumer>\r\n        {({model}) => {\r\n          return (\r\n            <select\r\n              value={model}\r\n              onChange={handleChange}\r\n            >\r\n              <option value=\"\">Model:</option>\r\n              {\r\n                models.map((model) =>\r\n                  <option value={model.replace('/&/g','_')} key={model}>\r\n                    {model}\r\n                  </option>\r\n                )\r\n              }\r\n            </select>\r\n          );\r\n      }}\r\n      </VehicleContext.Consumer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Model;\r\n","/**********\r\n\r\nCampaign Component\r\nGets campaign data from server & displays it\r\n\r\n**********/\r\nimport React, {useContext, useEffect, useState} from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport $ from 'jquery';\r\nimport VehicleContext from './VehicleContext';\r\n\r\nfunction Campaign() {\r\n  const {year, make, model} = useContext(VehicleContext);\r\n  const [campaigns, setCampaigns] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    if (year === \"\" || make === \"\" || model === \"\") {\r\n      setCampaigns([]);\r\n      return;\r\n    }\r\n\r\n    var xhr = $.ajax({ url: endpoint+'/modelyear/'+year+'/make/'+make+'/model/'+model+datatype,\r\n                       dataType: 'jsonp',\r\n                       year: year,\r\n                       make: make,\r\n                       model: model\r\n                    });\r\n    xhr.done( function(data) {\r\n      var newCampaigns = [...data.Results];\r\n      \r\n      setCampaigns(newCampaigns);\r\n    });\r\n  }, [year,make,model]);\r\n  \r\n  function d(date) {\r\n    if (!date) return \"\";\r\n    var newDate = new Date(parseInt(date.substr(6)));\r\n    return newDate.toString().split(\" \").slice(0,4).join(\" \");\r\n  }\r\n                           \r\n  const bStyle = {fontWeight: 'bold'};\r\n  const tStyle = {fontWeight: 'bold', textAlign: 'center'};\r\n  \r\n  return (\r\n    <div className=\"campaignBox\">\r\n      {\r\n        campaigns.map((campaign) =>\r\n          <div key={campaign.NHTSACampaignNumber} className='campaign'>\r\n            <div><span style={bStyle}>Campaign Number</span>: {campaign.NHTSACampaignNumber}</div>\r\n            <div><span style={bStyle}>Report Received Date</span>: {d(campaign.ReportReceivedDate)}</div>\r\n            <div><div style={tStyle}>Summary</div>{campaign.Summary}</div>\r\n            <div><div style={tStyle}>Problem</div>{campaign.Conequence}</div>\r\n            <div><div style={tStyle}>Remedy</div>{campaign.Remedy}</div>\r\n          </div>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Campaign;\r\n","import React, {useState} from 'react';\nimport Year from './Year';\nimport Make from './Make';\nimport Model from './Model';\nimport Campaign from './Campaign';\nimport VehicleContext from './VehicleContext';\n\nfunction App() {\n  const [year, setYear] = useState(\"\");\n  const [make, setMake] = useState(\"\");\n  const [model, setModel] = useState(\"\");\n\n  function changeYear(year) {\n    setYear(year);\n    setMake(\"\");\n    setModel(\"\");\n  }\n\n  function changeMake(make){\n    setMake(make);\n    setModel(\"\");\n  }\n\n  const context = {\n    year,\n    changeYear,\n    make,\n    changeMake,\n    model,\n    changeModel: setModel\n  };\n\n  return (\n    <VehicleContext.Provider value={context}>\n      <div>\n        <h1>NHTSA Recall Datatbase</h1>\n        <div className=\"selectBox\">\n          <Year/>\n          <Make/>\n          <Model/>\n        </div>\n        <Campaign/>\n      </div>\n    </VehicleContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}