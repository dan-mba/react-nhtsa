(this["webpackJsonpreact-nhtsa"]=this["webpackJsonpreact-nhtsa"]||[]).push([[0],{72:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(35),s=a.n(r),o=a(98),i=a(99),j=a(24),l=a(93),u=a(95);const b="https://one.nhtsa.gov/webapi/api/Recalls/vehicle",d="?format=json";var h=a(10),O=a.n(h),p=a(101),m=a(102),x=a(100),g=a(2);const v=Object(l.a)({root:{width:"100%"}});function f({children:e,label:t,value:a,onChange:n}){const c=v();return Object(g.jsxs)(p.a,{classes:{root:c.root},children:[Object(g.jsx)(m.a,{htmlFor:t,children:t}),a?Object(g.jsx)(x.a,{value:a,inputProps:{name:t,id:t},onChange:n,children:e}):Object(g.jsx)(x.a,{inputProps:{name:t,id:t},onChange:n,children:e})]})}var C=c.a.createContext();var y=function(){const{changeYear:e}=Object(n.useContext)(C),[t,a]=Object(n.useState)([]);return Object(n.useEffect)((()=>{t.length||O.a.jsonp(b+d).then((e=>{let t=[];for(let a=1;a<e.Count;a++)t.push(e.Results[a].ModelYear);a(t)}))})),Object(g.jsxs)(f,{label:"Year",onChange:function(t){const a=t.target.value;e(a)},children:[Object(g.jsx)("option",{value:""}),t.map((e=>Object(g.jsx)("option",{value:e,children:e},e.toString())))]})};var R=function(){const{year:e,make:t,changeModel:a}=Object(n.useContext)(C),[c,r]=Object(n.useState)([]);function s(e){const t=e.target.value;a(t)}return Object(n.useEffect)((()=>{""!==e&&""!==t?O.a.jsonp(b+"/modelyear/"+e+"/make/"+t+d).then((e=>{let t=[];for(let a=0;a<e.Count;a++)t.push(e.Results[a].Model);r(t)})):r([])}),[e,t]),Object(g.jsx)(C.Consumer,{children:({model:e})=>Object(g.jsxs)(f,{value:e,onChange:s,label:"Model",children:[Object(g.jsx)("option",{value:""}),c.map((e=>Object(g.jsx)("option",{value:e.replace("/&/g","_"),children:e},e)))]})})};var k=function(){const{year:e,changeMake:t}=Object(n.useContext)(C),[a,c]=Object(n.useState)([]);function r(e){const a=e.target.value;t(a)}return Object(n.useEffect)((()=>{""!==e&&O.a.jsonp(b+"/modelyear/"+e+d).then((e=>{let t=[];for(let a=0;a<e.Count;a++)t.push(e.Results[a].Make);c(t)}))}),[e]),Object(g.jsx)(C.Consumer,{children:({make:e})=>Object(g.jsxs)(f,{value:e,label:"Make",onChange:r,children:[Object(g.jsx)("option",{value:""}),a.map((e=>Object(g.jsx)("option",{value:e.replace("/&/g","_"),children:e},e)))]})})};const S=Object(l.a)({root:{margin:"0 0 16px",width:"100%"}});var M=function(){const e=S();return Object(g.jsxs)(u.a,{container:!0,spacing:4,className:e.root,children:[Object(g.jsx)(u.a,{item:!0,xs:4,md:2,children:Object(g.jsx)(y,{})}),Object(g.jsx)(u.a,{item:!0,xs:8,md:4,children:Object(g.jsx)(k,{})}),Object(g.jsx)(u.a,{item:!0,xs:8,md:6,children:Object(g.jsx)(R,{})})]})},D=a(103),N=a(96),w=a(97);const E=Object(l.a)({root:{margin:0,width:"100%"},card:{height:"100%"},content:{height:"100%"}});var Y=function(){const{year:e,make:t,model:a}=Object(n.useContext)(C),[c,r]=Object(n.useState)([]),s=E();return Object(n.useEffect)((()=>{""!==e&&""!==t&&""!==a?O.a.jsonp(b+"/modelyear/"+e+"/make/"+t+"/model/"+a+d).then((e=>{let t=e.Results.map((e=>{const t=e.ReportReceivedDate?parseInt(e.ReportReceivedDate.slice(6,-1).split("-")[0]):0;return{...e,ReportReceivedDate:new Date(t)}}));t.sort(((e,t)=>t.ReportReceivedDate-e.ReportReceivedDate)),r(t)})):r([])}),[e,t,a]),Object(g.jsx)(u.a,{container:!0,spacing:4,justify:"center",className:s.root,children:c.map((e=>{return Object(g.jsx)(u.a,{item:!0,sm:12,md:6,children:Object(g.jsxs)(D.a,{className:s.card,children:[Object(g.jsx)(N.a,{title:e.NHTSACampaignNumber,subheader:(t=e.ReportReceivedDate,t.toDateString().slice(4))}),Object(g.jsxs)(w.a,{classes:{root:s.content},children:[Object(g.jsx)(j.a,{variant:"body2",paragraph:!0,children:e.Summary}),Object(g.jsx)(j.a,{variant:"body2",paragraph:!0,children:e.Conequence}),Object(g.jsx)(j.a,{variant:"body2",paragraph:!0,children:e.Remedy})]})]})},e.NHTSACampaignNumber);var t}))})},A=a(41);var B=Object(A.a)({palette:{primary:{main:"#212121"},secondary:{main:"#004c7b"},background:{default:"#dbe3e8",paper:"#f1f4f6"},text:{secondary:"#004c7b"}},overrides:{MuiCssBaseline:{"@global":{body:{maxWidth:1e3,margin:"0 auto",padding:"1%"}}}}});var H=function(){const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)(""),[s,l]=Object(n.useState)(""),u={year:e,changeYear:function(e){t(e),r(""),l("")},make:a,changeMake:function(e){r(e),l("")},model:s,changeModel:l};return Object(g.jsx)(o.a,{theme:B,children:Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsx)(i.a,{}),Object(g.jsxs)(C.Provider,{value:u,children:[Object(g.jsx)(j.a,{align:"center",color:"secondary",variant:"h4",gutterBottom:!0,children:"NHTSA Recall Database"}),Object(g.jsx)(M,{}),Object(g.jsx)(Y,{})]})]})})};s.a.render(Object(g.jsx)(H,{}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.0eada324.chunk.js.map