{"version":3,"sources":["util/Endpoints.js","components/MySelect.js","VehicleContext.js","components/Year.js","components/Model.js","components/Make.js","components/SelectBox.js","components/Campaign.js","util/Theme.js","App.js","index.js"],"names":["endpoint","datatype","useStyles","makeStyles","root","width","MySelect","children","label","value","onChange","classes","FormControl","InputLabel","htmlFor","NativeSelect","inputProps","name","id","VehicleContext","React","createContext","Year","changeYear","useContext","years","setYears","useState","useEffect","length","axios","jsonp","then","data","newYears","i","Count","push","Results","ModelYear","e","year","target","map","toString","Model","make","changeModel","models","setModels","handleChange","model","newModels","Consumer","replace","Make","changeMake","makes","setMakes","newMakes","margin","SelectBox","Grid","container","spacing","className","item","xs","md","card","height","content","Campaign","campaigns","setCampaigns","newCampaigns","d","ReportReceivedDate","parseInt","slice","split","Date","sort","a","b","justify","campaign","sm","Card","CardHeader","title","NHTSACampaignNumber","subheader","date","toDateString","CardContent","Typography","variant","paragraph","Summary","Conequence","Remedy","theme","createMuiTheme","palette","primary","main","secondary","background","default","paper","text","overrides","MuiCssBaseline","body","maxWidth","padding","App","setYear","setMake","setModel","context","ThemeProvider","Fragment","CssBaseline","Provider","align","color","gutterBottom","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2b9c3039.chunk.js","sourcesContent":["/* \n  Base endpoint for NHTSA Recalls REST API\n*/\n\nexport const endpoint = \"https://one.nhtsa.gov/webapi/api/Recalls/vehicle\";\nexport const datatype = \"?format=json\";\n","/*\n  MySelect Component\n  Common select component for consistency\n*/\nimport React from 'react';\nimport {NativeSelect, FormControl, InputLabel, makeStyles}\n  from '@material-ui/core';\nimport PropTypes from 'prop-types';\n\nconst useStyles = makeStyles({\n  root:{\n    width: '100%'\n  }\n})\n\nexport default function MySelect({children, label, value, onChange}) {\n  const classes = useStyles();\n\n  return (\n    <FormControl classes={{root: classes.root}}>\n      <InputLabel htmlFor={label}>{label}</InputLabel>\n      {value ? \n        <NativeSelect\n          value={value} \n          inputProps={{\n            name: label,\n            id: label\n          }}\n          onChange={onChange}\n        >\n          {children}\n        </NativeSelect> : \n        <NativeSelect\n          inputProps={{\n            name: label,\n            id: label\n          }}\n          onChange={onChange}\n        >\n          {children}\n        </NativeSelect>\n      }\n    </FormControl>\n    )\n}\n\nMySelect.propTypes = {\n  children: PropTypes.array,\n  label: PropTypes.string,\n  value: PropTypes.string,\n  onChange: PropTypes.func\n};\n","import React from 'react';\nconst VehicleContext = React.createContext();\n\nexport default VehicleContext;\n","/**********\n\nYear Component\nGets year data from server & generates select statement\n\n**********/\nimport React, {useContext, useEffect, useState} from 'react';\nimport {endpoint, datatype} from '../util/Endpoints';\nimport axios from 'axios-jsonp-pro';\nimport MySelect from './MySelect'\nimport VehicleContext from '../VehicleContext';\n\nfunction Year() {\n  const {changeYear} = useContext(VehicleContext);\n  const [years, setYears] = useState([]);\n  \n  \n  function handleChange(e){\n    const year = e.target.value;\n    changeYear(year);\n  }\n  \n  useEffect(() => {\n    if(years.length) return;\n    axios\n      .jsonp(endpoint+datatype)\n      .then( data => {\n        let newYears = [];\n      \n        /* Start at 1 because the value at Results[0] is erroneus */\n        for (let i=1; i < data.Count; i++) {\n          newYears.push(data.Results[i].ModelYear);\n        }\n      \n        setYears(newYears);\n      });\n  });\n  \n  return (\n    <MySelect label='Year' onChange={handleChange}>\n      <option value=\"\"/>\n      {\n        years.map((year) =>\n          <option value={year} key={year.toString()}>\n            {year}\n          </option>\n        )\n      }\n    </MySelect>\n  );\n}\n\nexport default Year;\n","/**********\n\nModel Component\nGets Model options from server & generates select statement\n\n**********/\nimport React, {useContext, useState, useEffect} from 'react';\nimport {endpoint, datatype} from '../util/Endpoints';\nimport axios from 'axios-jsonp-pro';\nimport MySelect from './MySelect'\nimport VehicleContext from '../VehicleContext';\n\nfunction Model(){\n  const {year, make, changeModel} = useContext(VehicleContext);\n  const [models, setModels] = useState([]);\n  \n  function handleChange(e){\n    const model = e.target.value;\n    changeModel(model);\n  }\n  \n  useEffect(() => {\n    if (year === \"\" || make === \"\") {\n      setModels([]);\n      return;\n    }\n    \n    axios\n      .jsonp(endpoint+'/modelyear/'+year+'/make/'+make+datatype)\n      .then( data => {\n        let newModels = [];\n      \n        for(let i=0; i < data.Count; i++) {\n          newModels.push(data.Results[i].Model);\n        }\n      \n        setModels(newModels);\n      });\n  },[year,make]);\n  \n  return (\n    <VehicleContext.Consumer>\n      {({model}) => {\n        return (\n          <MySelect\n            value={model}\n            onChange={handleChange}\n            label=\"Model\"\n          >\n            <option value=\"\"/>\n            {\n              models.map((model) =>\n                <option value={model.replace('/&/g','_')} key={model}>\n                  {model}\n                </option>\n              )\n            }\n          </MySelect>\n        );\n    }}\n    </VehicleContext.Consumer>\n  );\n}\n\nexport default Model;\n","/**********\n\nMake Component\nGets make data from server & generates select statement\n\n**********/\nimport React, {useEffect, useState, useContext} from 'react';\nimport {endpoint, datatype} from '../util/Endpoints';\nimport axios from 'axios-jsonp-pro';\nimport MySelect from './MySelect';\nimport VehicleContext from '../VehicleContext';\n\nfunction Make() {\n  const {year, changeMake} = useContext(VehicleContext);\n  const [makes, setMakes] = useState([]);\n    \n  function handleChange(e){\n    const make = e.target.value;\n    changeMake(make);\n  }\n  \n  useEffect(() => {\n    if(year === \"\") return;\n    axios\n      .jsonp(endpoint+'/modelyear/'+year+datatype)\n      .then( data => {\n        let newMakes = [];\n      \n        for(let i=0; i < data.Count; i++) {\n          newMakes.push(data.Results[i].Make);\n        }\n      \n        setMakes(newMakes);\n      });\n  }, [year]);\n  \n  return (\n    <VehicleContext.Consumer>\n      {({make}) => {\n        return (\n          <MySelect\n            value={make}\n            label=\"Make\"\n            onChange={handleChange}\n          >\n            <option value=\"\"/>\n            {\n              makes.map((make) =>\n                <option value={make.replace('/&/g','_')} key={make}>\n                  {make}\n                </option>\n              )\n            }\n          </MySelect>\n        )\n      }}\n    </VehicleContext.Consumer>\n  );\n\n}\n\nexport default Make;\n","/*\n  SelectBox Component\n  Groups the Year, Make, & Model components in a responsive way\n*/\nimport React from 'react';\nimport {Grid, makeStyles} from '@material-ui/core';\nimport Year from './Year';\nimport Model from './Model';\nimport Make from './Make';\n\nconst useStyles = makeStyles({\n  root: {\n    margin: '0 0 16px',\n    width: '100%'\n  }\n})\n\nfunction SelectBox() {\n  const classes = useStyles(); \n\n  return (\n    <Grid container spacing={4} className={classes.root}>\n      <Grid item xs={4} md={2}>\n        <Year/>\n      </Grid>\n      <Grid item xs={8} md={4}>\n        <Make/>\n      </Grid>\n      <Grid item xs={8} md={6}>\n        <Model/>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default SelectBox;\n","/**********\n\nCampaign Component\nGets campaign data from server & displays it\n\n**********/\nimport React, {useContext, useEffect, useState} from 'react';\nimport {Grid, Typography, Card, CardHeader, CardContent, makeStyles}\n  from '@material-ui/core';\nimport {endpoint, datatype} from '../util/Endpoints';\nimport axios from 'axios-jsonp-pro';\nimport VehicleContext from '../VehicleContext';\n\nconst useStyles = makeStyles({\n  root:{\n    margin: 0,\n    width: '100%'\n  },\n  card: {\n    height: '100%'\n  },\n  content: {\n    height: '100%'\n  }\n})\n\nfunction Campaign() {\n  const {year, make, model} = useContext(VehicleContext);\n  const [campaigns, setCampaigns] = useState([]);\n  const classes = useStyles();\n  \n  useEffect(() => {\n    if (year === \"\" || make === \"\" || model === \"\") {\n      setCampaigns([]);\n      return;\n    }\n\n    axios\n      .jsonp(endpoint+'/modelyear/'+year+'/make/'+make+'/model/'+model+datatype)\n      .then(data => {\n        let newCampaigns = data.Results.map(data => {\n          // Convert UNIX timestamp (in ms) from Microsoft JSON format\n          const d = data.ReportReceivedDate ?\n            parseInt(data.ReportReceivedDate.slice(6,-1).split(\"-\")[0]) : 0;\n          return {...data, ReportReceivedDate: new Date(d)}\n        });\n        newCampaigns.sort((a,b) => b.ReportReceivedDate - a.ReportReceivedDate);\n      \n        setCampaigns(newCampaigns);\n      });\n  }, [year,make,model]);\n  \n  function d(date) {\n    return date.toDateString().slice(4);\n  }\n                           \n  return (\n    <Grid container spacing={4} justify='center' className={classes.root}>\n      {\n        campaigns.map((campaign) =>\n          <Grid item sm={12} md={6}\n            key={campaign.NHTSACampaignNumber}\n          >\n            <Card className={classes.card}>\n              <CardHeader\n                title={campaign.NHTSACampaignNumber}\n                subheader={d(campaign.ReportReceivedDate)}\n              >\n              </CardHeader>\n              <CardContent classes={{root: classes.content}}>\n                <Typography variant=\"body2\" paragraph>\n                  {campaign.Summary}\n                </Typography>\n                <Typography variant=\"body2\" paragraph>\n                  {campaign.Conequence}\n                </Typography>\n                <Typography variant=\"body2\" paragraph>\n                  {campaign.Remedy}\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid>\n        )\n      }\n    </Grid>\n  );\n}\n\nexport default Campaign;\n","/*\n  Material-UI Theme Object\n*/\nimport {createMuiTheme} from '@material-ui/core'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#212121'\n    },\n    secondary: {\n      main: '#004c7b'\n    },\n    background: {\n      default: '#dbe3e8',\n      paper: '#f1f4f6'\n    },\n    text: {\n      secondary: '#004c7b'\n    }\n  },\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        body: {\n          maxWidth: 1000,\n          margin: '0 auto',\n          padding: '1%'\n        }\n      }\n    }\n  }\n});\n\nexport default theme;\n","import React, {useState} from 'react';\nimport {ThemeProvider, CssBaseline, Typography} from '@material-ui/core';\nimport SelectBox from './components/SelectBox';\nimport Campaign from './components/Campaign';\nimport VehicleContext from './VehicleContext';\nimport theme from './util/Theme'\n\nfunction App() {\n  const [year, setYear] = useState(\"\");\n  const [make, setMake] = useState(\"\");\n  const [model, setModel] = useState(\"\");\n\n\n  function changeYear(year) {\n    setYear(year);\n    setMake(\"\");\n    setModel(\"\");\n  }\n\n  function changeMake(make){\n    setMake(make);\n    setModel(\"\");\n  }\n\n  const context = {\n    year,\n    changeYear,\n    make,\n    changeMake,\n    model,\n    changeModel: setModel\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <React.Fragment>\n        <CssBaseline />\n        <VehicleContext.Provider value={context}>\n          <Typography\n            align='center'\n            color='secondary'\n            variant='h4'\n            gutterBottom\n          >NHTSA Recall Database</Typography>\n          <SelectBox/>\n          <Campaign/>\n        </VehicleContext.Provider>\n      </React.Fragment>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}