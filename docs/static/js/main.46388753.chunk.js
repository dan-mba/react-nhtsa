(this["webpackJsonpreact-nhtsa"]=this["webpackJsonpreact-nhtsa"]||[]).push([[0],{86:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(51),s=a.n(r),i=a(108),o=a(116),l=a(109),j=a(118),u=a(115),d=a(5);const h="https://one.nhtsa.gov/webapi/api/Recalls/vehicle",b="?format=json";var p=a(21),x=a.n(p),m=a(110),O=a(111),g=a(112),v=a(1);const f=Object(d.a)(m.a)({lineHeight:"1.1876em","& .MuiInput-input":{padding:"6px 0 7px"},"& select.MuiNativeSelect-select.MuiNativeSelect-outlined":{paddingRight:"24px",height:"1.1875em"},"& .MuiSvgIcon-root":{right:0}});function C({children:e,label:t,value:a,onChange:n}){return Object(v.jsxs)(O.a,{sx:{width:"100%",lineHeight:1.43},children:[Object(v.jsx)(g.a,{htmlFor:t,sx:{lineHeight:1,transform:"translate(0, 24px) scale(1)","&.Mui-focused, &.MuiFormLabel-filled":{transform:"translate(0, 1.5px) scale(0.75)"}},children:t}),a?Object(v.jsx)(f,{value:a,inputProps:{name:t,id:t},onChange:n,children:e}):Object(v.jsx)(f,{inputProps:{name:t,id:t},onChange:n,children:e})]})}var y=c.a.createContext();var R=function(){const{changeYear:e}=Object(n.useContext)(y),[t,a]=Object(n.useState)([]);return Object(n.useEffect)((()=>{t.length||x.a.jsonp(h+b).then((e=>{let t=[];for(let a=1;a<e.Count;a++)t.push(e.Results[a].ModelYear);a(t)}))})),Object(v.jsxs)(C,{label:"Year",onChange:function(t){const a=t.target.value;e(a)},children:[Object(v.jsx)("option",{value:""}),t.map((e=>Object(v.jsx)("option",{value:e,children:e},e.toString())))]})};var S=function(){const{year:e,make:t,changeModel:a}=Object(n.useContext)(y),[c,r]=Object(n.useState)([]);function s(e){const t=e.target.value;a(t)}return Object(n.useEffect)((()=>{""!==e&&""!==t?x.a.jsonp(h+"/modelyear/"+e+"/make/"+t+b).then((e=>{let t=[];for(let a=0;a<e.Count;a++)t.push(e.Results[a].Model);r(t)})):r([])}),[e,t]),Object(v.jsx)(y.Consumer,{children:({model:e})=>Object(v.jsxs)(C,{value:e,onChange:s,label:"Model",children:[Object(v.jsx)("option",{value:""}),c.map((e=>Object(v.jsx)("option",{value:e.replace("/&/g","_"),children:e},e)))]})})};var M=function(){const{year:e,changeMake:t}=Object(n.useContext)(y),[a,c]=Object(n.useState)([]);function r(e){const a=e.target.value;t(a)}return Object(n.useEffect)((()=>{""!==e&&x.a.jsonp(h+"/modelyear/"+e+b).then((e=>{let t=[];for(let a=0;a<e.Count;a++)t.push(e.Results[a].Make);c(t)}))}),[e]),Object(v.jsx)(y.Consumer,{children:({make:e})=>Object(v.jsxs)(C,{value:e,label:"Make",onChange:r,children:[Object(v.jsx)("option",{value:""}),a.map((e=>Object(v.jsx)("option",{value:e.replace("/&/g","_"),children:e},e)))]})})};const k=Object(d.a)(u.a)({padding:16});var D=function(){return Object(v.jsxs)(u.a,{container:!0,sx:{margin:"0 0 16px",width:"100%",lineHeight:1.43,fontSize:".875rem"},children:[Object(v.jsx)(k,{item:!0,xs:4,md:2,children:Object(v.jsx)(R,{})}),Object(v.jsx)(k,{item:!0,xs:8,md:4,children:Object(v.jsx)(M,{})}),Object(v.jsx)(k,{item:!0,xs:8,md:6,children:Object(v.jsx)(S,{})})]})},w=a(113),H=a(117),N=a(119);var E=function(){const{year:e,make:t,model:a}=Object(n.useContext)(y),[c,r]=Object(n.useState)([]);return Object(n.useEffect)((()=>{""!==e&&""!==t&&""!==a?x.a.jsonp(h+"/modelyear/"+e+"/make/"+t+"/model/"+a+b).then((e=>{let t=e.Results.map((e=>{const t=e.ReportReceivedDate?parseInt(e.ReportReceivedDate.slice(6,-1).split("-")[0]):0;return{...e,ReportReceivedDate:new Date(t)}}));t.sort(((e,t)=>t.ReportReceivedDate-e.ReportReceivedDate)),r(t)})):r([])}),[e,t,a]),Object(v.jsx)(u.a,{container:!0,justifyContent:"center",sx:{margin:0,width:"100%"},children:c.map((e=>{return Object(v.jsx)(u.a,{item:!0,sm:12,md:6,sx:{padding:"16px"},children:Object(v.jsxs)(w.a,{sx:{height:"100%"},children:[Object(v.jsx)(H.a,{title:e.NHTSACampaignNumber,subheader:(t=e.ReportReceivedDate,t.toDateString().slice(4))}),Object(v.jsxs)(N.a,{sx:{height:"100%"},children:[Object(v.jsx)(j.a,{variant:"body2",paragraph:!0,children:e.Summary}),Object(v.jsx)(j.a,{variant:"body2",paragraph:!0,children:e.Conequence}),Object(v.jsx)(j.a,{variant:"body2",paragraph:!0,children:e.Remedy})]})]})},e.NHTSACampaignNumber);var t}))})},F=a(52);var I=Object(F.a)({palette:{primary:{main:"#212121"},secondary:{main:"#004c7b"},background:{default:"#dbe3e8",paper:"#f1f4f6"},text:{secondary:"#004c7b"}},components:{MuiCssBaseline:{styleOverrides:{body:{maxWidth:1e3,margin:"0 auto",padding:"1%"}}}}});var Y=function(){const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)(""),[s,u]=Object(n.useState)(""),d={year:e,changeYear:function(e){t(e),r(""),u("")},make:a,changeMake:function(e){r(e),u("")},model:s,changeModel:u};return Object(v.jsx)(i.a,{injectFirst:!0,children:Object(v.jsx)(o.a,{theme:I,children:Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(l.a,{}),Object(v.jsxs)(y.Provider,{value:d,children:[Object(v.jsx)(j.a,{align:"center",color:"secondary",variant:"h4",gutterBottom:!0,children:"NHTSA Recall Database"}),Object(v.jsx)(D,{}),Object(v.jsx)(E,{})]})]})})})};s.a.render(Object(v.jsx)(Y,{}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.46388753.chunk.js.map