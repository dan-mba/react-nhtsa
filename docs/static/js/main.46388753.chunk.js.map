{"version":3,"sources":["util/Endpoints.js","components/MySelect.js","VehicleContext.js","components/Year.js","components/Model.js","components/Make.js","components/SelectBox.js","components/Campaign.js","util/Theme.js","App.js","index.js"],"names":["endpoint","datatype","StyledSelect","styled","NativeSelect","lineHeight","padding","paddingRight","height","right","MySelect","children","label","value","onChange","FormControl","sx","width","InputLabel","htmlFor","transform","inputProps","name","id","VehicleContext","React","createContext","Year","changeYear","useContext","years","setYears","useState","useEffect","length","axios","jsonp","then","data","newYears","i","Count","push","Results","ModelYear","e","year","target","map","toString","Model","make","changeModel","models","setModels","handleChange","model","newModels","Consumer","replace","Make","changeMake","makes","setMakes","newMakes","PaddedGrid","Grid","SelectBox","container","margin","fontSize","item","xs","md","Campaign","campaigns","setCampaigns","newCampaigns","d","ReportReceivedDate","parseInt","slice","split","Date","sort","a","b","justifyContent","campaign","sm","Card","CardHeader","title","NHTSACampaignNumber","subheader","date","toDateString","CardContent","Typography","variant","paragraph","Summary","Conequence","Remedy","theme","createTheme","palette","primary","main","secondary","background","default","paper","text","components","MuiCssBaseline","styleOverrides","body","maxWidth","App","setYear","setMake","setModel","context","StyledEngineProvider","injectFirst","ThemeProvider","Fragment","CssBaseline","Provider","align","color","gutterBottom","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.46388753.chunk.js","sourcesContent":["/* \n  Base endpoint for NHTSA Recalls REST API\n*/\n\nexport const endpoint = \"https://one.nhtsa.gov/webapi/api/Recalls/vehicle\";\nexport const datatype = \"?format=json\";\n","/*\n  MySelect Component\n  Common select component for consistency\n*/\nimport React from 'react';\nimport {NativeSelect, FormControl, InputLabel} from '@mui/material';\nimport {styled} from '@mui/material/styles';\nimport PropTypes from 'prop-types';\n\nconst StyledSelect = styled(NativeSelect)({\n  lineHeight: '1.1876em',\n  '& .MuiInput-input': {\n    padding: '6px 0 7px'\n  },\n  '& select.MuiNativeSelect-select.MuiNativeSelect-outlined': {\n    paddingRight: '24px',\n    height: '1.1875em'\n  },\n  '& .MuiSvgIcon-root': {\n    right: 0\n  }\n});\n\nexport default function MySelect({children, label, value, onChange}) {\n  return (\n    <FormControl sx={{width: '100%', lineHeight: 1.43}}>\n      <InputLabel htmlFor={label} sx={{\n        lineHeight: 1,\n        transform: 'translate(0, 24px) scale(1)',\n        '&.Mui-focused, &.MuiFormLabel-filled':{\n          transform: 'translate(0, 1.5px) scale(0.75)',\n        }\n      }}>\n        {label}\n      </InputLabel>\n      {value ? \n        <StyledSelect\n          value={value} \n          inputProps={{\n            name: label,\n            id: label\n          }}\n          onChange={onChange}\n        >\n          {children}\n        </StyledSelect> : \n        <StyledSelect\n          inputProps={{\n            name: label,\n            id: label\n          }}\n          onChange={onChange}\n        >\n          {children}\n        </StyledSelect>\n      }\n    </FormControl>\n    )\n}\n\nMySelect.propTypes = {\n  children: PropTypes.array,\n  label: PropTypes.string,\n  value: PropTypes.string,\n  onChange: PropTypes.func\n};\n","import React from 'react';\nconst VehicleContext = React.createContext();\n\nexport default VehicleContext;\n","/**********\n\nYear Component\nGets year data from server & generates select statement\n\n**********/\nimport React, {useContext, useEffect, useState} from 'react';\nimport {endpoint, datatype} from '../util/Endpoints';\nimport axios from 'axios-jsonp-pro';\nimport MySelect from './MySelect'\nimport VehicleContext from '../VehicleContext';\n\nfunction Year() {\n  const {changeYear} = useContext(VehicleContext);\n  const [years, setYears] = useState([]);\n  \n  \n  function handleChange(e){\n    const year = e.target.value;\n    changeYear(year);\n  }\n  \n  useEffect(() => {\n    if(years.length) return;\n    axios\n      .jsonp(endpoint+datatype)\n      .then( data => {\n        let newYears = [];\n      \n        /* Start at 1 because the value at Results[0] is erroneus */\n        for (let i=1; i < data.Count; i++) {\n          newYears.push(data.Results[i].ModelYear);\n        }\n      \n        setYears(newYears);\n      });\n  });\n  \n  return (\n    <MySelect label='Year' onChange={handleChange}>\n      <option value=\"\"/>\n      {\n        years.map((year) =>\n          <option value={year} key={year.toString()}>\n            {year}\n          </option>\n        )\n      }\n    </MySelect>\n  );\n}\n\nexport default Year;\n","/**********\n\nModel Component\nGets Model options from server & generates select statement\n\n**********/\nimport React, {useContext, useState, useEffect} from 'react';\nimport {endpoint, datatype} from '../util/Endpoints';\nimport axios from 'axios-jsonp-pro';\nimport MySelect from './MySelect'\nimport VehicleContext from '../VehicleContext';\n\nfunction Model(){\n  const {year, make, changeModel} = useContext(VehicleContext);\n  const [models, setModels] = useState([]);\n  \n  function handleChange(e){\n    const model = e.target.value;\n    changeModel(model);\n  }\n  \n  useEffect(() => {\n    if (year === \"\" || make === \"\") {\n      setModels([]);\n      return;\n    }\n    \n    axios\n      .jsonp(endpoint+'/modelyear/'+year+'/make/'+make+datatype)\n      .then( data => {\n        let newModels = [];\n      \n        for(let i=0; i < data.Count; i++) {\n          newModels.push(data.Results[i].Model);\n        }\n      \n        setModels(newModels);\n      });\n  },[year,make]);\n  \n  return (\n    <VehicleContext.Consumer>\n      {({model}) => {\n        return (\n          <MySelect\n            value={model}\n            onChange={handleChange}\n            label=\"Model\"\n          >\n            <option value=\"\"/>\n            {\n              models.map((model) =>\n                <option value={model.replace('/&/g','_')} key={model}>\n                  {model}\n                </option>\n              )\n            }\n          </MySelect>\n        );\n    }}\n    </VehicleContext.Consumer>\n  );\n}\n\nexport default Model;\n","/**********\n\nMake Component\nGets make data from server & generates select statement\n\n**********/\nimport React, {useEffect, useState, useContext} from 'react';\nimport {endpoint, datatype} from '../util/Endpoints';\nimport axios from 'axios-jsonp-pro';\nimport MySelect from './MySelect';\nimport VehicleContext from '../VehicleContext';\n\nfunction Make() {\n  const {year, changeMake} = useContext(VehicleContext);\n  const [makes, setMakes] = useState([]);\n    \n  function handleChange(e){\n    const make = e.target.value;\n    changeMake(make);\n  }\n  \n  useEffect(() => {\n    if(year === \"\") return;\n    axios\n      .jsonp(endpoint+'/modelyear/'+year+datatype)\n      .then( data => {\n        let newMakes = [];\n      \n        for(let i=0; i < data.Count; i++) {\n          newMakes.push(data.Results[i].Make);\n        }\n      \n        setMakes(newMakes);\n      });\n  }, [year]);\n  \n  return (\n    <VehicleContext.Consumer>\n      {({make}) => {\n        return (\n          <MySelect\n            value={make}\n            label=\"Make\"\n            onChange={handleChange}\n          >\n            <option value=\"\"/>\n            {\n              makes.map((make) =>\n                <option value={make.replace('/&/g','_')} key={make}>\n                  {make}\n                </option>\n              )\n            }\n          </MySelect>\n        )\n      }}\n    </VehicleContext.Consumer>\n  );\n\n}\n\nexport default Make;\n","/*\n  SelectBox Component\n  Groups the Year, Make, & Model components in a responsive way\n*/\nimport React from 'react';\nimport {Grid} from '@mui/material';\nimport {styled} from '@mui/material/styles';\nimport Year from './Year';\nimport Model from './Model';\nimport Make from './Make';\n\nconst PaddedGrid = styled(Grid)({\n  padding: 16\n});\n\nfunction SelectBox() {\n  return (\n    <Grid container sx={{\n      margin: '0 0 16px',\n      width: '100%',\n      lineHeight: 1.43,\n      fontSize: '.875rem'\n    }}>\n      <PaddedGrid item xs={4} md={2}>\n        <Year/>\n      </PaddedGrid>\n      <PaddedGrid item xs={8} md={4}>\n        <Make/>\n      </PaddedGrid>\n      <PaddedGrid item xs={8} md={6}>\n        <Model/>\n      </PaddedGrid>\n    </Grid>\n  );\n}\n\nexport default SelectBox;\n","/**********\n\nCampaign Component\nGets campaign data from server & displays it\n\n**********/\nimport React, {useContext, useEffect, useState} from 'react';\nimport {Grid, Typography, Card, CardHeader, CardContent} from '@mui/material';\nimport {endpoint, datatype} from '../util/Endpoints';\nimport axios from 'axios-jsonp-pro';\nimport VehicleContext from '../VehicleContext';\n\nfunction Campaign() {\n  const {year, make, model} = useContext(VehicleContext);\n  const [campaigns, setCampaigns] = useState([]);\n  \n  useEffect(() => {\n    if (year === \"\" || make === \"\" || model === \"\") {\n      setCampaigns([]);\n      return;\n    }\n    \n    axios\n    .jsonp(endpoint+'/modelyear/'+year+'/make/'+make+'/model/'+model+datatype)\n    .then(data => {\n      let newCampaigns = data.Results.map(data => {\n        // Convert UNIX timestamp (in ms) from Microsoft JSON format\n        const d = data.ReportReceivedDate ?\n        parseInt(data.ReportReceivedDate.slice(6,-1).split(\"-\")[0]) : 0;\n        return {...data, ReportReceivedDate: new Date(d)}\n      });\n      newCampaigns.sort((a,b) => b.ReportReceivedDate - a.ReportReceivedDate);\n      \n      setCampaigns(newCampaigns);\n    });\n  }, [year,make,model]);\n  \n  function d(date) {\n    return date.toDateString().slice(4);\n  }\n  \n  return (\n    <Grid container justifyContent='center' sx={{\n      margin: 0,\n      width: '100%'\n\n    }}>\n      {\n        campaigns.map((campaign) =>\n          <Grid item sm={12} md={6}\n            sx={{padding: '16px'}}\n            key={campaign.NHTSACampaignNumber}\n          >\n            <Card sx={{height: '100%'}}>\n              <CardHeader\n                title={campaign.NHTSACampaignNumber}\n                subheader={d(campaign.ReportReceivedDate)}\n              >\n              </CardHeader>\n              <CardContent sx={{height: '100%'}}>\n                <Typography variant=\"body2\" paragraph>\n                  {campaign.Summary}\n                </Typography>\n                <Typography variant=\"body2\" paragraph>\n                  {campaign.Conequence}\n                </Typography>\n                <Typography variant=\"body2\" paragraph>\n                  {campaign.Remedy}\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid>\n        )\n      }\n    </Grid>\n  );\n}\n\nexport default Campaign;\n","/*\n  Material-UI Theme Object\n*/\nimport {createTheme} from '@mui/material/styles';\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: '#212121'\n    },\n    secondary: {\n      main: '#004c7b'\n    },\n    background: {\n      default: '#dbe3e8',\n      paper: '#f1f4f6'\n    },\n    text: {\n      secondary: '#004c7b'\n    }\n  },\n  components: {\n    MuiCssBaseline: {\n      styleOverrides: {\n        body: {\n          maxWidth: 1000,\n          margin: '0 auto',\n          padding: '1%'\n        }\n      }\n    }\n  }\n});\n\nexport default theme;\n","import React, {useState} from 'react';\nimport { ThemeProvider, StyledEngineProvider, CssBaseline, Typography } from '@mui/material';\nimport SelectBox from './components/SelectBox';\nimport Campaign from './components/Campaign';\nimport VehicleContext from './VehicleContext';\nimport theme from './util/Theme'\n\nfunction App() {\n  const [year, setYear] = useState(\"\");\n  const [make, setMake] = useState(\"\");\n  const [model, setModel] = useState(\"\");\n\n\n  function changeYear(year) {\n    setYear(year);\n    setMake(\"\");\n    setModel(\"\");\n  }\n\n  function changeMake(make){\n    setMake(make);\n    setModel(\"\");\n  }\n\n  const context = {\n    year,\n    changeYear,\n    make,\n    changeMake,\n    model,\n    changeModel: setModel\n  };\n\n  return (\n    <StyledEngineProvider injectFirst>\n      <ThemeProvider theme={theme}>\n        <React.Fragment>\n          <CssBaseline />\n          <VehicleContext.Provider value={context}>\n            <Typography\n              align='center'\n              color='secondary'\n              variant='h4'\n              gutterBottom\n            >NHTSA Recall Database</Typography>\n            <SelectBox/>\n            <Campaign/>\n          </VehicleContext.Provider>\n        </React.Fragment>\n      </ThemeProvider>\n    </StyledEngineProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}