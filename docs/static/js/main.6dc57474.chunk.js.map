{"version":3,"sources":["util/Endpoints.js","components/MySelect.js","VehicleContext.js","components/Year.js","components/Model.js","components/Make.js","components/SelectBox.js","components/Campaign.js","util/Theme.js","App.js","index.js"],"names":["endpoint","useStyles","makeStyles","root","width","MySelect","children","label","value","onChange","classes","FormControl","InputLabel","htmlFor","NativeSelect","inputProps","name","id","VehicleContext","React","createContext","Year","changeYear","useContext","useState","years","setYears","useEffect","length","axios","jsonp","then","data","newYears","i","Count","push","Results","ModelYear","e","year","target","map","key","toString","Model","make","changeModel","models","setModels","handleChange","model","newModels","Consumer","replace","Make","changeMake","makes","setMakes","newMakes","margin","SelectBox","Grid","container","spacing","className","item","xs","md","card","height","content","Campaign","campaigns","setCampaigns","newCampaigns","d","ReportReceivedDate","parseInt","slice","split","Date","sort","a","b","justify","campaign","sm","NHTSACampaignNumber","Card","CardHeader","title","subheader","date","toDateString","CardContent","Typography","variant","paragraph","Summary","Conequence","Remedy","theme","createMuiTheme","palette","primary","main","secondary","background","default","paper","text","overrides","MuiCssBaseline","body","maxWidth","padding","App","setYear","setMake","setModel","context","ThemeProvider","Fragment","CssBaseline","Provider","align","color","gutterBottom","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6dc57474.chunk.js","sourcesContent":["/* \n  Base endpoint for NHTSA Recalls REST API\n*/\n\nexport const endpoint = \"https://one.nhtsa.gov/webapi/api/Recalls/vehicle\";\nexport const datatype = \"?format=json\";\n","/*\n  MySelect Component\n  Common select component for consistency\n*/\nimport React from 'react';\nimport {NativeSelect, FormControl, InputLabel, makeStyles}\n  from '@material-ui/core';\nimport PropTypes from 'prop-types';\n\nconst useStyles = makeStyles({\n  root:{\n    width: '100%'\n  }\n})\n\nexport default function MySelect({children, label, value, onChange}) {\n  const classes = useStyles();\n\n  return (\n    <FormControl classes={{root: classes.root}}>\n      <InputLabel htmlFor={label}>{label}</InputLabel>\n      {value ? \n        <NativeSelect\n          value={value} \n          inputProps={{\n            name: label,\n            id: label\n          }}\n          onChange={onChange}\n        >\n          {children}\n        </NativeSelect> : \n        <NativeSelect\n          inputProps={{\n            name: label,\n            id: label\n          }}\n          onChange={onChange}\n        >\n          {children}\n        </NativeSelect>\n      }\n    </FormControl>\n    )\n}\n\nMySelect.propTypes = {\n  children: PropTypes.array,\n  label: PropTypes.string,\n  value: PropTypes.string,\n  onChange: PropTypes.func\n};\n","import React from 'react';\nconst VehicleContext = React.createContext();\n\nexport default VehicleContext;\n","/**********\n\nYear Component\nGets year data from server & generates select statement\n\n**********/\nimport React, {useContext, useEffect, useState} from 'react';\nimport {endpoint, datatype} from '../util/Endpoints';\nimport axios from 'axios-jsonp-pro';\nimport MySelect from './MySelect'\nimport VehicleContext from '../VehicleContext';\n\nfunction Year() {\n  const {changeYear} = useContext(VehicleContext);\n  const [years, setYears] = useState([]);\n  \n  \n  function handleChange(e){\n    const year = e.target.value;\n    changeYear(year);\n  }\n  \n  useEffect(() => {\n    if(years.length) return;\n    axios\n      .jsonp(endpoint+datatype)\n      .then( data => {\n        let newYears = [];\n      \n        /* Start at 1 because the value at Results[0] is erroneus */\n        for (let i=1; i < data.Count; i++) {\n          newYears.push(data.Results[i].ModelYear);\n        }\n      \n        setYears(newYears);\n      });\n  });\n  \n  return (\n    <MySelect label='Year' onChange={handleChange}>\n      <option value=\"\"/>\n      {\n        years.map((year) =>\n          <option value={year} key={year.toString()}>\n            {year}\n          </option>\n        )\n      }\n    </MySelect>\n  );\n}\n\nexport default Year;\n","/**********\n\nModel Component\nGets Model options from server & generates select statement\n\n**********/\nimport React, {useContext, useState, useEffect} from 'react';\nimport {endpoint, datatype} from '../util/Endpoints';\nimport axios from 'axios-jsonp-pro';\nimport MySelect from './MySelect'\nimport VehicleContext from '../VehicleContext';\n\nfunction Model(){\n  const {year, make, changeModel} = useContext(VehicleContext);\n  const [models, setModels] = useState([]);\n  \n  function handleChange(e){\n    const model = e.target.value;\n    changeModel(model);\n  }\n  \n  useEffect(() => {\n    if (year === \"\" || make === \"\") {\n      setModels([]);\n      return;\n    }\n    \n    axios\n      .jsonp(endpoint+'/modelyear/'+year+'/make/'+make+datatype)\n      .then( data => {\n        let newModels = [];\n      \n        for(let i=0; i < data.Count; i++) {\n          newModels.push(data.Results[i].Model);\n        }\n      \n        setModels(newModels);\n      });\n  },[year,make]);\n  \n  return (\n    <VehicleContext.Consumer>\n      {({model}) => {\n        return (\n          <MySelect\n            value={model}\n            onChange={handleChange}\n            label=\"Model\"\n          >\n            <option value=\"\"/>\n            {\n              models.map((model) =>\n                <option value={model.replace('/&/g','_')} key={model}>\n                  {model}\n                </option>\n              )\n            }\n          </MySelect>\n        );\n    }}\n    </VehicleContext.Consumer>\n  );\n}\n\nexport default Model;\n","/**********\n\nMake Component\nGets make data from server & generates select statement\n\n**********/\nimport React, {useEffect, useState, useContext} from 'react';\nimport {endpoint, datatype} from '../util/Endpoints';\nimport axios from 'axios-jsonp-pro';\nimport MySelect from './MySelect';\nimport VehicleContext from '../VehicleContext';\n\nfunction Make() {\n  const {year, changeMake} = useContext(VehicleContext);\n  const [makes, setMakes] = useState([]);\n    \n  function handleChange(e){\n    const make = e.target.value;\n    changeMake(make);\n  }\n  \n  useEffect(() => {\n    if(year === \"\") return;\n    axios\n      .jsonp(endpoint+'/modelyear/'+year+datatype)\n      .then( data => {\n        let newMakes = [];\n      \n        for(let i=0; i < data.Count; i++) {\n          newMakes.push(data.Results[i].Make);\n        }\n      \n        setMakes(newMakes);\n      });\n  }, [year]);\n  \n  return (\n    <VehicleContext.Consumer>\n      {({make}) => {\n        return (\n          <MySelect\n            value={make}\n            label=\"Make\"\n            onChange={handleChange}\n          >\n            <option value=\"\"/>\n            {\n              makes.map((make) =>\n                <option value={make.replace('/&/g','_')} key={make}>\n                  {make}\n                </option>\n              )\n            }\n          </MySelect>\n        )\n      }}\n    </VehicleContext.Consumer>\n  );\n\n}\n\nexport default Make;\n","/*\n  SelectBox Component\n  Groups the Year, Make, & Model components in a responsive way\n*/\nimport React from 'react';\nimport {Grid, makeStyles} from '@material-ui/core';\nimport Year from './Year';\nimport Model from './Model';\nimport Make from './Make';\n\nconst useStyles = makeStyles({\n  root: {\n    margin: '0 0 16px',\n    width: '100%'\n  }\n})\n\nfunction SelectBox() {\n  const classes = useStyles(); \n\n  return (\n    <Grid container spacing={4} className={classes.root}>\n      <Grid item xs={4} md={2}>\n        <Year/>\n      </Grid>\n      <Grid item xs={8} md={4}>\n        <Make/>\n      </Grid>\n      <Grid item xs={8} md={6}>\n        <Model/>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default SelectBox;\n","/**********\n\nCampaign Component\nGets campaign data from server & displays it\n\n**********/\nimport React, {useContext, useEffect, useState} from 'react';\nimport {Grid, Typography, Card, CardHeader, CardContent, makeStyles}\n  from '@material-ui/core';\nimport {endpoint, datatype} from '../util/Endpoints';\nimport axios from 'axios-jsonp-pro';\nimport VehicleContext from '../VehicleContext';\n\nconst useStyles = makeStyles({\n  root:{\n    margin: 0,\n    width: '100%'\n  },\n  card: {\n    height: '100%'\n  },\n  content: {\n    height: '100%'\n  }\n})\n\nfunction Campaign() {\n  const {year, make, model} = useContext(VehicleContext);\n  const [campaigns, setCampaigns] = useState([]);\n  const classes = useStyles();\n  \n  useEffect(() => {\n    if (year === \"\" || make === \"\" || model === \"\") {\n      setCampaigns([]);\n      return;\n    }\n\n    axios\n      .jsonp(endpoint+'/modelyear/'+year+'/make/'+make+'/model/'+model+datatype)\n      .then(data => {\n        let newCampaigns = data.Results.map(data => {\n          // Convert UNIX timestamp (in ms) from Microsoft JSON format\n          const d = data.ReportReceivedDate ?\n            parseInt(data.ReportReceivedDate.slice(6,-1).split(\"-\")[0]) : 0;\n          return {...data, ReportReceivedDate: new Date(d)}\n        });\n        newCampaigns.sort((a,b) => b.ReportReceivedDate - a.ReportReceivedDate);\n      \n        setCampaigns(newCampaigns);\n      });\n  }, [year,make,model]);\n  \n  function d(date) {\n    return date.toDateString().slice(4);\n  }\n                           \n  return (\n    <Grid container spacing={4} justify='center' className={classes.root}>\n      {\n        campaigns.map((campaign) =>\n          <Grid item sm={12} md={6}\n            key={campaign.NHTSACampaignNumber}\n          >\n            <Card className={classes.card}>\n              <CardHeader\n                title={campaign.NHTSACampaignNumber}\n                subheader={d(campaign.ReportReceivedDate)}\n              >\n              </CardHeader>\n              <CardContent classes={{root: classes.content}}>\n                <Typography variant=\"body2\" paragraph>\n                  {campaign.Summary}\n                </Typography>\n                <Typography variant=\"body2\" paragraph>\n                  {campaign.Conequence}\n                </Typography>\n                <Typography variant=\"body2\" paragraph>\n                  {campaign.Remedy}\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid>\n        )\n      }\n    </Grid>\n  );\n}\n\nexport default Campaign;\n","/*\n  Material-UI Theme Object\n*/\nimport {createMuiTheme} from '@material-ui/core'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#212121'\n    },\n    secondary: {\n      main: '#004c7b'\n    },\n    background: {\n      default: '#dbe3e8',\n      paper: '#f1f4f6'\n    },\n    text: {\n      secondary: '#004c7b'\n    }\n  },\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        body: {\n          maxWidth: 1000,\n          margin: '0 auto',\n          padding: '1%'\n        }\n      }\n    }\n  }\n});\n\nexport default theme;\n","import React, {useState} from 'react';\nimport {ThemeProvider, CssBaseline, Typography} from '@material-ui/core';\nimport SelectBox from './components/SelectBox';\nimport Campaign from './components/Campaign';\nimport VehicleContext from './VehicleContext';\nimport theme from './util/Theme'\n\nfunction App() {\n  const [year, setYear] = useState(\"\");\n  const [make, setMake] = useState(\"\");\n  const [model, setModel] = useState(\"\");\n\n\n  function changeYear(year) {\n    setYear(year);\n    setMake(\"\");\n    setModel(\"\");\n  }\n\n  function changeMake(make){\n    setMake(make);\n    setModel(\"\");\n  }\n\n  const context = {\n    year,\n    changeYear,\n    make,\n    changeMake,\n    model,\n    changeModel: setModel\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <React.Fragment>\n        <CssBaseline />\n        <VehicleContext.Provider value={context}>\n          <Typography\n            align='center'\n            color='secondary'\n            variant='h4'\n            gutterBottom\n          >NHTSA Recall Database</Typography>\n          <SelectBox/>\n          <Campaign/>\n        </VehicleContext.Provider>\n      </React.Fragment>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}