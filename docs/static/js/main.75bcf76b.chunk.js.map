{"version":3,"sources":["util/Endpoints.js","VehicleContext.js","Year.js","Make.js","Model.js","Campaign.js","App.js","index.js"],"names":["endpoint","VehicleContext","React","createContext","Year","changeYear","useContext","useState","years","setYears","useEffect","length","axios","jsonp","then","data","newYears","i","Count","push","Results","ModelYear","className","id","onChange","e","year","target","value","map","key","toString","Make","changeMake","makes","setMakes","handleChange","make","newMakes","Consumer","replace","Model","changeModel","models","setModels","model","newModels","Campaign","campaigns","setCampaigns","newCampaigns","bStyle","fontWeight","tStyle","textAlign","campaign","NHTSACampaignNumber","style","date","ReportReceivedDate","Date","parseInt","substr","split","slice","join","Summary","Conequence","Remedy","App","setYear","setMake","setModel","context","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.75bcf76b.chunk.js","sourcesContent":["export const endpoint = \"https://one.nhtsa.gov/webapi/api/Recalls/vehicle\";\r\nexport const datatype = \"?format=json\";\r\n","import React from 'react';\r\nconst VehicleContext = React.createContext();\r\n\r\nexport default VehicleContext;\r\n","/**********\r\n\r\nYear Component\r\nGets year data from server & generates select statement\r\n\r\n**********/\r\nimport React, {useContext, useEffect, useState} from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport axios from 'axios-jsonp-pro';\r\nimport VehicleContext from './VehicleContext';\r\n\r\nfunction Year() {\r\n  const {changeYear} = useContext(VehicleContext);\r\n  const [years, setYears] = useState([]);\r\n  \r\n  \r\n  function handleChange(e){\r\n    const year = e.target.value;\r\n    changeYear(year);\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if(years.length) return;\r\n    axios\r\n      .jsonp(endpoint+datatype)\r\n      .then( data => {\r\n        let newYears = [];\r\n      \r\n        /* Start at 1 because the value at Results[0] is erroneus */\r\n        for (let i=1; i < data.Count; i++) {\r\n          newYears.push(data.Results[i].ModelYear);\r\n        }\r\n      \r\n        setYears(newYears);\r\n      });\r\n  });\r\n  \r\n  return (\r\n    <div className='selectdiv' id='year'>\r\n      <select onChange={handleChange}>\r\n        <option value=\"\">Year:</option>\r\n        {\r\n          years.map((year) =>\r\n            <option value={year} key={year.toString()}>\r\n              {year}\r\n            </option>\r\n          )\r\n        }\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Year;\r\n","/**********\r\n\r\nMake Component\r\nGets make data from server & generates select statement\r\n\r\n**********/\r\nimport React, {useEffect, useState, useContext} from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport axios from 'axios-jsonp-pro';\r\nimport VehicleContext from './VehicleContext';\r\n\r\nfunction Make() {\r\n  const {year, changeMake} = useContext(VehicleContext);\r\n  const [makes, setMakes] = useState([]);\r\n    \r\n  function handleChange(e){\r\n    const make = e.target.value;\r\n    changeMake(make);\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if(year === \"\") return;\r\n    axios\r\n      .jsonp(endpoint+'/modelyear/'+year+datatype)\r\n      .then( data => {\r\n        let newMakes = [];\r\n      \r\n        for(let i=0; i < data.Count; i++) {\r\n          newMakes.push(data.Results[i].Make);\r\n        }\r\n      \r\n        setMakes(newMakes);\r\n      });\r\n  }, [year]);\r\n  \r\n  return (\r\n    <div className='selectdiv' id='make'>\r\n      <VehicleContext.Consumer>\r\n        {({make}) => {\r\n          return (\r\n            <select\r\n              value={make}\r\n              onChange={handleChange}\r\n            >\r\n              <option value=\"\">Make:</option>\r\n              {\r\n                makes.map((make) =>\r\n                  <option value={make.replace('/&/g','_')} key={make}>\r\n                    {make}\r\n                  </option>\r\n                )\r\n              }\r\n            </select>\r\n          )\r\n        }}\r\n      </VehicleContext.Consumer>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default Make;\r\n","/**********\r\n\r\nModel Component\r\nGets Model options from server & generates select statement\r\n\r\n**********/\r\nimport React, {useContext, useState, useEffect} from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport axios from 'axios-jsonp-pro';\r\nimport VehicleContext from './VehicleContext';\r\n\r\nfunction Model(){\r\n  const {year, make, changeModel} = useContext(VehicleContext);\r\n  const [models, setModels] = useState([]);\r\n  \r\n  function handleChange(e){\r\n    const model = e.target.value;\r\n    changeModel(model);\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if (year === \"\" || make === \"\") {\r\n      setModels([]);\r\n      return;\r\n    }\r\n    \r\n    axios\r\n      .jsonp(endpoint+'/modelyear/'+year+'/make/'+make+datatype)\r\n      .then( data => {\r\n        let newModels = [];\r\n      \r\n        for(let i=0; i < data.Count; i++) {\r\n          newModels.push(data.Results[i].Model);\r\n        }\r\n      \r\n        setModels(newModels);\r\n      });\r\n  },[year,make]);\r\n  \r\n  return (\r\n    <div className='selectdiv' id='model'>\r\n      <VehicleContext.Consumer>\r\n        {({model}) => {\r\n          return (\r\n            <select\r\n              value={model}\r\n              onChange={handleChange}\r\n            >\r\n              <option value=\"\">Model:</option>\r\n              {\r\n                models.map((model) =>\r\n                  <option value={model.replace('/&/g','_')} key={model}>\r\n                    {model}\r\n                  </option>\r\n                )\r\n              }\r\n            </select>\r\n          );\r\n      }}\r\n      </VehicleContext.Consumer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Model;\r\n","/**********\r\n\r\nCampaign Component\r\nGets campaign data from server & displays it\r\n\r\n**********/\r\nimport React, {useContext, useEffect, useState} from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport axios from 'axios-jsonp-pro';\r\nimport VehicleContext from './VehicleContext';\r\n\r\nfunction Campaign() {\r\n  const {year, make, model} = useContext(VehicleContext);\r\n  const [campaigns, setCampaigns] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    if (year === \"\" || make === \"\" || model === \"\") {\r\n      setCampaigns([]);\r\n      return;\r\n    }\r\n\r\n    axios\r\n      .jsonp(endpoint+'/modelyear/'+year+'/make/'+make+'/model/'+model+datatype)\r\n      .then(data => {\r\n        let newCampaigns = [...data.Results];\r\n      \r\n        setCampaigns(newCampaigns);\r\n      });\r\n  }, [year,make,model]);\r\n  \r\n  function d(date) {\r\n    if (!date) return \"\";\r\n    let newDate = new Date(parseInt(date.substr(6)));\r\n    return newDate.toString().split(\" \").slice(0,4).join(\" \");\r\n  }\r\n                           \r\n  const bStyle = {fontWeight: 'bold'};\r\n  const tStyle = {fontWeight: 'bold', textAlign: 'center'};\r\n  \r\n  return (\r\n    <div className=\"campaignBox\">\r\n      {\r\n        campaigns.map((campaign) =>\r\n          <div key={campaign.NHTSACampaignNumber} className='campaign'>\r\n            <div><span style={bStyle}>Campaign Number</span>: {campaign.NHTSACampaignNumber}</div>\r\n            <div><span style={bStyle}>Report Received Date</span>: {d(campaign.ReportReceivedDate)}</div>\r\n            <div><div style={tStyle}>Summary</div>{campaign.Summary}</div>\r\n            <div><div style={tStyle}>Problem</div>{campaign.Conequence}</div>\r\n            <div><div style={tStyle}>Remedy</div>{campaign.Remedy}</div>\r\n          </div>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Campaign;\r\n","import React, {useState} from 'react';\r\nimport Year from './Year';\r\nimport Make from './Make';\r\nimport Model from './Model';\r\nimport Campaign from './Campaign';\r\nimport VehicleContext from './VehicleContext';\r\n\r\nfunction App() {\r\n  const [year, setYear] = useState(\"\");\r\n  const [make, setMake] = useState(\"\");\r\n  const [model, setModel] = useState(\"\");\r\n\r\n  function changeYear(year) {\r\n    setYear(year);\r\n    setMake(\"\");\r\n    setModel(\"\");\r\n  }\r\n\r\n  function changeMake(make){\r\n    setMake(make);\r\n    setModel(\"\");\r\n  }\r\n\r\n  const context = {\r\n    year,\r\n    changeYear,\r\n    make,\r\n    changeMake,\r\n    model,\r\n    changeModel: setModel\r\n  };\r\n\r\n  return (\r\n    <VehicleContext.Provider value={context}>\r\n      <div>\r\n        <h1>NHTSA Recall Datatbase</h1>\r\n        <div className=\"selectBox\">\r\n          <Year/>\r\n          <Make/>\r\n          <Model/>\r\n        </div>\r\n        <Campaign/>\r\n      </div>\r\n    </VehicleContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}