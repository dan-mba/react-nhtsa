{"version":3,"sources":["util/Endpoints.js","Year.js","Make.js","Model.js","Campaign.js","App.js","index.js"],"names":["endpoint","Year","props","state","isLoaded","years","handleChange","bind","e","year","target","value","this","onChange","$","ajax","url","dataType","done","data","newYears","i","Count","push","Results","ModelYear","setState","className","id","map","key","toString","React","Component","Make","makes","make","length","self","newMakes","defaultValue","replace","Model","models","model","newModels","Campaign","campaigns","newCampaigns","bStyle","fontWeight","tStyle","textAlign","campaign","NHTSACampaignNumber","style","date","ReportReceivedDate","Date","parseInt","substr","split","slice","join","Summary","Conequence","Remedy","App","parent","changeYear","changeMake","changeModel","newYear","newMake","newModel","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.833e422f.chunk.js","sourcesContent":["export const endpoint = \"https://one.nhtsa.gov/webapi/api/Recalls/vehicle\";\r\nexport const datatype = \"?format=json\";\r\n","/**********\r\n\r\nYear Component\r\nGets year data from server & generates select statement\r\n\r\n**********/\r\nimport React from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport $ from 'jquery';\r\n\r\nclass Year extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoaded : false,\r\n      years : []\r\n    };\r\n    \r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n  \r\n  handleChange(e){\r\n    const year = e.target.value;\r\n    this.props.onChange(year);\r\n  }\r\n  \r\n  componentDidMount(){\r\n    var xhr = $.ajax({ url: endpoint+datatype,\r\n                       dataType: 'jsonp'\r\n                    });\r\n    xhr.done( function(data) {\r\n      var newYears = [];\r\n      \r\n      /* Start at 1 because the value at Results[0] is erroneus */\r\n      for(var i=1; i < data.Count; i++) {\r\n        newYears.push(data.Results[i].ModelYear);\r\n      }\r\n      \r\n      this.setState({ isLoaded: true, years : newYears });\r\n    }.bind(this));\r\n  }\r\n  \r\n  render() {\r\n    const {isLoaded, years} = this.state;\r\n    \r\n    return (\r\n      <div className='selectdiv' id='year'>\r\n        <select onChange={this.handleChange}>\r\n          <option value=\"\">Year:</option>\r\n          {\r\n            isLoaded ?\r\n              years.map((year) =>\r\n                <option value={year} key={year.toString()}>\r\n                  {year}\r\n                </option>\r\n              ) : \"\"\r\n          }\r\n        </select>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Year;\r\n","/**********\r\n\r\nMake Component\r\nGets make data from server & generates select statement\r\n\r\n**********/\r\nimport React from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport $ from 'jquery';\r\n\r\nclass Make extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoaded : false,\r\n      year: \"\",\r\n      makes : []\r\n    };\r\n    \r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n  \r\n  handleChange(e){\r\n    const make = e.target.value;\r\n    this.props.onChange(make);\r\n  }\r\n  \r\n  componentDidUpdate(){\r\n    const {year} = this.props;\r\n    const {isLoaded} = this.state;\r\n    if((isLoaded && (year === this.state.year)) || (year.length === 0)) return;\r\n\r\n    var self = this;\r\n    var xhr = $.ajax({ url: endpoint+'/modelyear/'+year+datatype,\r\n                       dataType: 'jsonp'\r\n                    });\r\n    xhr.done( function(data) {\r\n      var newMakes = [];\r\n      \r\n      for(var i=0; i < data.Count; i++) {\r\n        newMakes.push(data.Results[i].Make);\r\n      }\r\n      \r\n      self.setState({ isLoaded: true, makes : newMakes, year: data.Results[0].ModelYear });\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    const {makes, year, isLoaded} = this.state;\r\n \r\n    return (\r\n      <div className='selectdiv' id='make'>\r\n        <select\r\n          defaultValue=\"\"\r\n          onChange={this.handleChange}>\r\n        \r\n          <option value=\"\">Make:</option>\r\n          {\r\n            (isLoaded &&(this.props.year ===year)) ? \r\n              makes.map((make) =>\r\n                <option value={make.replace('/&/g','_')} key={make}>\r\n                  {make}\r\n                </option>\r\n              ) : \"\"\r\n          }\r\n        </select>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Make;\r\n","/**********\r\n\r\nModel Component\r\nGets Model options from server & generates select statement\r\n\r\n**********/\r\nimport React from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport $ from 'jquery';\r\n\r\nclass Model extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoaded : false,\r\n      year: \"\",\r\n      make: \"\",\r\n      models : []\r\n    };\r\n    \r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n  \r\n  handleChange(e){\r\n    const model = e.target.value;\r\n    this.props.onChange(model);\r\n  }\r\n  \r\n  componentDidUpdate(){\r\n    const {year, make} = this.props;\r\n    const {isLoaded} = this.state\r\n    \r\n    if((isLoaded && (year === this.state.year) && (make === this.state.make)) || \r\n      (year.length === 0) || (make.length === 0)) return;\r\n    \r\n    var self = this;\r\n    var xhr = $.ajax({ url: endpoint+'/modelyear/'+year+'/make/'+make+datatype,\r\n                       dataType: 'jsonp',\r\n                       year: year,\r\n                       make: make\r\n                    });\r\n    xhr.done( function(data) {\r\n      var newModels = [];\r\n      \r\n      for(var i=0; i < data.Count; i++) {\r\n        newModels.push(data.Results[i].Model);\r\n      }\r\n      \r\n      self.setState({ isLoaded: true, models : newModels, year: this.year, make: this.make });\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    const {models, year, make, isLoaded} = this.state;\r\n\r\n    return (\r\n      <div className='selectdiv' id='model'>\r\n        <select\r\n          defaultValue=\"\"\r\n          onChange={this.handleChange}>\r\n        \r\n          <option value=\"\">Model:</option>\r\n          {\r\n            (isLoaded && (this.props.year === year) && (this.props.make === make)) ? \r\n              models.map((model) =>\r\n                <option value={model.replace('/&/g','_')} key={model}>\r\n                  {model}\r\n                </option>\r\n              ) : \"\"\r\n          }\r\n        </select>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Model;\r\n","/**********\r\n\r\nCampaign Component\r\nGets campaign data from server & displays it\r\n\r\n**********/\r\nimport React from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport $ from 'jquery';\r\n\r\nclass Campaign extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoaded : false,\r\n      year: \"\",\r\n      make: \"\",\r\n      model: \"\",\r\n      campaigns : []\r\n    };\r\n  }\r\n  \r\n  componentDidUpdate(){\r\n    const {year, make, model} = this.props;\r\n    const {isLoaded} = this.state;\r\n    \r\n    if(isLoaded && (year === this.state.year) && (make === this.state.make) && (model === this.state.model)) return;\r\n    if((year.length === 0) || (make.length === 0) || (model.length === 0)) {\r\n      if(isLoaded) this.setState({ isLoaded: false, campaigns: [], make: \"\", model: \"\", year: \"\"});\r\n      return;\r\n    }\r\n    \r\n    var self = this;\r\n    var xhr = $.ajax({ url: endpoint+'/modelyear/'+year+'/make/'+make+'/model/'+model+datatype,\r\n                       dataType: 'jsonp',\r\n                       year: year,\r\n                       make: make,\r\n                       model: model\r\n                    });\r\n    xhr.done( function(data) {\r\n      var newCampaigns = data.Results;\r\n      \r\n      self.setState({ isLoaded: true, campaigns : newCampaigns, year: this.year, make: this.make, model: this.model });\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    var {campaigns} = this.state;\r\n    \r\n    var d = function(date) {\r\n      if (!date) return \"\";\r\n      var newDate = new Date(parseInt(date.substr(6)));\r\n      return newDate.toString().split(\" \").slice(0,4).join(\" \");\r\n    }\r\n                             \r\n    const bStyle = {fontWeight: 'bold'};\r\n    const tStyle = {fontWeight: 'bold', textAlign: 'center'};\r\n                                           \r\n    return (\r\n      <div className=\"campaignBox\">\r\n        {\r\n          campaigns.length === 0 ? \"\" :\r\n            campaigns.map((campaign) =>\r\n              <div key={campaign.NHTSACampaignNumber} className='campaign'>\r\n                <div><span style={bStyle}>Campaign Number</span>: {campaign.NHTSACampaignNumber}</div>\r\n                <div><span style={bStyle}>Report Received Date</span>: {d(campaign.ReportReceivedDate)}</div>\r\n                <div><div style={tStyle}>Summary</div>{campaign.Summary}</div>\r\n                <div><div style={tStyle}>Problem</div>{campaign.Conequence}</div>\r\n                <div><div style={tStyle}>Remedy</div>{campaign.Remedy}</div>\r\n              </div>\r\n          )\r\n        }\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Campaign;\r\n","import React from 'react';\nimport Year from './Year';\nimport Make from './Make';\nimport Model from './Model';\nimport Campaign from './Campaign';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = { year: \"\", make: \"\", model: \"\", parent: 0}\n    this.changeYear = this.changeYear.bind(this);\n    this.changeMake = this.changeMake.bind(this);\n    this.changeModel = this.changeModel.bind(this);\n  }\n  \n  changeYear(newYear) {\n    this.setState({ year: newYear, make: \"\", model: \"\"});\n  }\n  \n  changeMake(newMake) {\n    this.setState({make: newMake, model: \"\"});\n  }\n  \n  changeModel(newModel) {\n    this.setState({model: newModel});\n  }\n  \n  render() {\n    return (\n      <div>\n        <h1>NHTSA Recall Datatbase</h1>\n        <div className=\"selectBox\">\n          <Year onChange={this.changeYear} />\n          <Make onChange={this.changeMake} year={this.state.year} />\n          <Model \n            onChange={this.changeModel}\n            year={this.state.year}\n            make={this.state.make}\n          />\n        </div>\n        <Campaign\n          year={this.state.year}\n          make={this.state.make}\n          model={this.state.model}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}