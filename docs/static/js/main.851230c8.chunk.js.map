{"version":3,"sources":["util/Endpoints.js","Year.js","Make.js","Model.js","Campaign.js","App.js","index.js"],"names":["endpoint","Year","props","state","isLoaded","years","handleChange","bind","e","year","target","value","this","onChange","$","blur","ajax","url","dataType","done","data","newYears","i","Count","push","Results","ModelYear","setState","modelYears","map","key","toString","className","id","React","Component","Make","makes","make","length","newMakes","replace","defaultValue","Model","models","model","self","newModels","Campaign","campaigns","newCampaigns","bStyle","fontWeight","tStyle","textAlign","campaign","NHTSACampaignNumber","style","date","ReportReceivedDate","Date","parseInt","substr","split","slice","join","Summary","Conequence","Remedy","App","parent","changeYear","changeMake","changeModel","newYear","newMake","newModel","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.851230c8.chunk.js","sourcesContent":["export const endpoint = \"https://one.nhtsa.gov/webapi/api/Recalls/vehicle\";\r\nexport const datatype = \"?format=json\";\r\n","/**********\r\n\r\nYear Component\r\nGets year data from server & generates select statement\r\n\r\n**********/\r\nimport React from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport $ from 'jquery';\r\n\r\nclass Year extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoaded : false,\r\n      years : []\r\n    };\r\n    \r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n  \r\n  handleChange(e){\r\n    const year = e.target.value;\r\n    this.props.onChange(year);\r\n    $(\"select\").blur();\r\n  }\r\n  \r\n  componentDidMount(){\r\n    var xhr = $.ajax({ url: endpoint+datatype,\r\n                       dataType: 'jsonp'\r\n                    });\r\n    xhr.done( function(data) {\r\n      var newYears = [];\r\n      \r\n      /* Start at 1 because the value at Results[0] is erroneus */\r\n      for(var i=1; i < data.Count; i++) {\r\n        newYears.push(data.Results[i].ModelYear);\r\n      }\r\n      \r\n      this.setState({ isLoaded: true, years : newYears });\r\n    }.bind(this));\r\n  }\r\n  \r\n  render() {\r\n    var modelYears = [];\r\n    if(this.state.isLoaded) {\r\n      modelYears = this.state.years.map((year) =>\r\n        <option value={year} key={year.toString()}>\r\n          {year}\r\n        </option>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div className='selectdiv' id='year'>\r\n        <select onChange={this.handleChange}>\r\n          <option value=\"\">Year:</option>\r\n          {modelYears}\r\n        </select>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Year;\r\n","/**********\r\n\r\nMake Component\r\nGets make data from server & generates select statement\r\n\r\n**********/\r\nimport React from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport $ from 'jquery';\r\n\r\nclass Make extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoaded : false,\r\n      year: \"\",\r\n      makes : []\r\n    };\r\n    \r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n  \r\n  handleChange(e){\r\n    const make = e.target.value;\r\n    this.props.onChange(make);\r\n    $(\"select\").blur();\r\n  }\r\n  \r\n  componentDidUpdate(){\r\n    const year = this.props.year;\r\n    if((this.state.isLoaded && (year === this.state.year)) || (year.length === 0)) return;\r\n    var xhr = $.ajax({ url: endpoint+'/modelyear/'+year+datatype,\r\n                       dataType: 'jsonp'\r\n                    });\r\n    xhr.done( function(data) {\r\n      var newMakes = [];\r\n      \r\n      for(var i=0; i < data.Count; i++) {\r\n        newMakes.push(data.Results[i].Make);\r\n      }\r\n      \r\n      this.setState({ isLoaded: true, makes : newMakes, year: data.Results[0].ModelYear });\r\n    }.bind(this));\r\n  }\r\n  \r\n  render() {\r\n    var makes = [];\r\n    if(this.state.isLoaded &&(this.props.year === this.state.year)) {\r\n      makes = this.state.makes.map((make) =>\r\n        <option value={make.replace('/&/g','_')} key={make}>\r\n          {make}\r\n        </option>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div className='selectdiv' id='make'>\r\n        <select\r\n          defaultValue=\"\"\r\n          onChange={this.handleChange}>\r\n        \r\n          <option value=\"\">Make:</option>\r\n          {makes}\r\n        </select>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Make;\r\n","/**********\r\n\r\nModel Component\r\nGets Model options from server & generates select statement\r\n\r\n**********/\r\nimport React from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport $ from 'jquery';\r\n\r\nclass Model extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoaded : false,\r\n      year: \"\",\r\n      make: \"\",\r\n      models : []\r\n    };\r\n    \r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n  \r\n  handleChange(e){\r\n    const model = e.target.value;\r\n    this.props.onChange(model);\r\n    $(\"select\").blur();\r\n  }\r\n  \r\n  componentDidUpdate(){\r\n    const year = this.props.year;\r\n    const make = this.props.make;\r\n    \r\n    if((this.state.isLoaded && (year === this.state.year) && (make === this.state.make)) || \r\n      (year.length === 0) || (make.length === 0)) return;\r\n    \r\n    var self = this;\r\n    var xhr = $.ajax({ url: endpoint+'/modelyear/'+year+'/make/'+make+datatype,\r\n                       dataType: 'jsonp',\r\n                       year: year,\r\n                       make: make\r\n                    });\r\n    xhr.done( function(data) {\r\n      var newModels = [];\r\n      \r\n      for(var i=0; i < data.Count; i++) {\r\n        newModels.push(data.Results[i].Model);\r\n      }\r\n      \r\n      self.setState({ isLoaded: true, models : newModels, year: this.year, make: this.make });\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    var models = [];\r\n    if(this.state.isLoaded && (this.props.year === this.state.year) && (this.props.model === this.state.model)) {\r\n      models = this.state.models.map((model) =>\r\n        <option value={model.replace('/&/g','_')} key={model}>\r\n          {model}\r\n        </option>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div className='selectdiv' id='model'>\r\n        <select\r\n          defaultValue=\"\"\r\n          onChange={this.handleChange}>\r\n        \r\n          <option value=\"\">Model:</option>\r\n          {models}\r\n        </select>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Model;\r\n","/**********\r\n\r\nCampaign Component\r\nGets campaign data from server & displays it\r\n\r\n**********/\r\nimport React from 'react';\r\nimport {endpoint, datatype} from './util/Endpoints';\r\nimport $ from 'jquery';\r\n\r\nclass Campaign extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoaded : false,\r\n      year: \"\",\r\n      make: \"\",\r\n      model: \"\",\r\n      campaigns : []\r\n    };\r\n  }\r\n  \r\n  componentDidUpdate(){\r\n    const year = this.props.year;\r\n    const make = this.props.make;\r\n    const model = this.props.model;\r\n    \r\n    if(this.state.isLoaded && (year === this.state.year) && (make === this.state.make) && (model === this.state.model)) return;\r\n    if((year.length === 0) || (make.length === 0) || (model.length === 0)) {\r\n      if(this.state.isLoaded) this.setState({ isLoaded: false, campaigns: [], make: \"\", model: \"\", year: \"\"});\r\n      return;\r\n    }\r\n    \r\n    var self = this;\r\n    var xhr = $.ajax({ url: endpoint+'/modelyear/'+year+'/make/'+make+'/model/'+model+datatype,\r\n                       dataType: 'jsonp',\r\n                       year: year,\r\n                       make: make,\r\n                       model: model\r\n                    });\r\n    xhr.done( function(data) {\r\n      var newCampaigns = data.Results;\r\n      \r\n      self.setState({ isLoaded: true, campaigns : newCampaigns, year: this.year, make: this.make, model: this.model });\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    var campaigns = [];\r\n    var d = function(date) {\r\n      var newDate = new Date(parseInt(date.substr(6)));\r\n      return newDate.toString().split(\" \").slice(0,4).join(\" \");\r\n    }\r\n                             \r\n    const bStyle = {fontWeight: 'bold'};\r\n    const tStyle = {fontWeight: 'bold', textAlign: 'center'};\r\n    if(this.state.campaigns.length) {\r\n      campaigns = this.state.campaigns.map((campaign) =>\r\n        <div key={campaign.NHTSACampaignNumber} className='campaign'>\r\n          <div><span style={bStyle}>Campaign Number</span>: {campaign.NHTSACampaignNumber}</div>\r\n          <div><span style={bStyle}>Report Received Date</span>: {d(campaign.ReportReceivedDate)}</div>\r\n          <div><div style={tStyle}>Summary</div>{campaign.Summary}</div>\r\n          <div><div style={tStyle}>Problem</div>{campaign.Conequence}</div>\r\n          <div><div style={tStyle}>Remedy</div>{campaign.Remedy}</div>\r\n        </div>\r\n      );\r\n    }\r\n                                           \r\n    return (\r\n      <div className=\"campaignBox\">\r\n        {campaigns}\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Campaign;\r\n","import React from 'react';\nimport Year from './Year';\nimport Make from './Make';\nimport Model from './Model';\nimport Campaign from './Campaign';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = { year: \"\", make: \"\", model: \"\", parent: 0}\n    this.changeYear = this.changeYear.bind(this);\n    this.changeMake = this.changeMake.bind(this);\n    this.changeModel = this.changeModel.bind(this);\n  }\n  \n  changeYear(newYear) {\n    this.setState({ year: newYear, make: \"\", model: \"\"});\n  }\n  \n  changeMake(newMake) {\n    this.setState({make: newMake, model: \"\"});\n  }\n  \n  changeModel(newModel) {\n    this.setState({model: newModel});\n  }\n  \n  render() {\n    return (\n      <div>\n        <div className=\"selectBox\">\n          <Year onChange={this.changeYear} />\n          <Make onChange={this.changeMake} year={this.state.year} />\n          <Model onChange={this.changeModel} year={this.state.year} make={this.state.make} />\n        </div>\n        <Campaign year={this.state.year} make={this.state.make} model={this.state.model} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}