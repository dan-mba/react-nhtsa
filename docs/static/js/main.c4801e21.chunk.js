(this["webpackJsonpreact-nhtsa"]=this["webpackJsonpreact-nhtsa"]||[]).push([[0],{69:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(34),o=a.n(r),s=a(10),i=a(95),j=a(96),u=a(22),l=a(90),b=a(92),d="https://one.nhtsa.gov/webapi/api/Recalls/vehicle",h="?format=json",O=a(11),p=a.n(O),m=a(98),v=a(99),x=a(97),f=a(2),g=Object(l.a)({root:{width:"100%"}});function C(e){var t=e.children,a=e.label,n=e.value,c=e.onChange,r=g();return Object(f.jsxs)(m.a,{classes:{root:r.root},children:[Object(f.jsx)(v.a,{htmlFor:a,children:a}),n?Object(f.jsx)(x.a,{value:n,inputProps:{name:a,id:a},onChange:c,children:t}):Object(f.jsx)(x.a,{inputProps:{name:a,id:a},onChange:c,children:t})]})}var y=c.a.createContext();var R=function(){var e=Object(n.useContext)(y).changeYear,t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){c.length||p.a.jsonp(d+h).then((function(e){for(var t=[],a=1;a<e.Count;a++)t.push(e.Results[a].ModelYear);r(t)}))})),Object(f.jsxs)(C,{label:"Year",onChange:function(t){var a=t.target.value;e(a)},children:[Object(f.jsx)("option",{value:""}),c.map((function(e){return Object(f.jsx)("option",{value:e,children:e},e.toString())}))]})};var k=function(){var e=Object(n.useContext)(y),t=e.year,a=e.make,c=e.changeModel,r=Object(n.useState)([]),o=Object(s.a)(r,2),i=o[0],j=o[1];function u(e){var t=e.target.value;c(t)}return Object(n.useEffect)((function(){""!==t&&""!==a?p.a.jsonp(d+"/modelyear/"+t+"/make/"+a+h).then((function(e){for(var t=[],a=0;a<e.Count;a++)t.push(e.Results[a].Model);j(t)})):j([])}),[t,a]),Object(f.jsx)(y.Consumer,{children:function(e){var t=e.model;return Object(f.jsxs)(C,{value:t,onChange:u,label:"Model",children:[Object(f.jsx)("option",{value:""}),i.map((function(e){return Object(f.jsx)("option",{value:e.replace("/&/g","_"),children:e},e)}))]})}})};var S=function(){var e=Object(n.useContext)(y),t=e.year,a=e.changeMake,c=Object(n.useState)([]),r=Object(s.a)(c,2),o=r[0],i=r[1];function j(e){var t=e.target.value;a(t)}return Object(n.useEffect)((function(){""!==t&&p.a.jsonp(d+"/modelyear/"+t+h).then((function(e){for(var t=[],a=0;a<e.Count;a++)t.push(e.Results[a].Make);i(t)}))}),[t]),Object(f.jsx)(y.Consumer,{children:function(e){var t=e.make;return Object(f.jsxs)(C,{value:t,label:"Make",onChange:j,children:[Object(f.jsx)("option",{value:""}),o.map((function(e){return Object(f.jsx)("option",{value:e.replace("/&/g","_"),children:e},e)}))]})}})},M=Object(l.a)({root:{margin:"0 0 16px",width:"100%"}});var D=function(){var e=M();return Object(f.jsxs)(b.a,{container:!0,spacing:4,className:e.root,children:[Object(f.jsx)(b.a,{item:!0,xs:4,md:2,children:Object(f.jsx)(R,{})}),Object(f.jsx)(b.a,{item:!0,xs:8,md:4,children:Object(f.jsx)(S,{})}),Object(f.jsx)(b.a,{item:!0,xs:8,md:6,children:Object(f.jsx)(k,{})})]})},N=a(26),w=a(100),E=a(93),Y=a(94),A=Object(l.a)({root:{margin:0,width:"100%"},card:{height:"100%"},content:{height:"100%"}});var B=function(){var e=Object(n.useContext)(y),t=e.year,a=e.make,c=e.model,r=Object(n.useState)([]),o=Object(s.a)(r,2),i=o[0],j=o[1],l=A();return Object(n.useEffect)((function(){""!==t&&""!==a&&""!==c?p.a.jsonp(d+"/modelyear/"+t+"/make/"+a+"/model/"+c+h).then((function(e){var t=e.Results.map((function(e){var t=e.ReportReceivedDate?parseInt(e.ReportReceivedDate.slice(6,-1).split("-")[0]):0;return Object(N.a)(Object(N.a)({},e),{},{ReportReceivedDate:new Date(t)})}));t.sort((function(e,t){return t.ReportReceivedDate-e.ReportReceivedDate})),j(t)})):j([])}),[t,a,c]),Object(f.jsx)(b.a,{container:!0,spacing:4,justify:"center",className:l.root,children:i.map((function(e){return Object(f.jsx)(b.a,{item:!0,sm:12,md:6,children:Object(f.jsxs)(w.a,{className:l.card,children:[Object(f.jsx)(E.a,{title:e.NHTSACampaignNumber,subheader:(t=e.ReportReceivedDate,t.toDateString().slice(4))}),Object(f.jsxs)(Y.a,{classes:{root:l.content},children:[Object(f.jsx)(u.a,{variant:"body2",paragraph:!0,children:e.Summary}),Object(f.jsx)(u.a,{variant:"body2",paragraph:!0,children:e.Conequence}),Object(f.jsx)(u.a,{variant:"body2",paragraph:!0,children:e.Remedy})]})]})},e.NHTSACampaignNumber);var t}))})},H=a(39),P=Object(H.a)({palette:{primary:{main:"#212121"},secondary:{main:"#004c7b"},background:{default:"#dbe3e8",paper:"#f1f4f6"},text:{secondary:"#004c7b"}},overrides:{MuiCssBaseline:{"@global":{body:{maxWidth:1e3,margin:"0 auto",padding:"1%"}}}}});var T=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),l=Object(s.a)(o,2),b=l[0],d=l[1],h=Object(n.useState)(""),O=Object(s.a)(h,2),p=O[0],m=O[1],v={year:a,changeYear:function(e){r(e),d(""),m("")},make:b,changeMake:function(e){d(e),m("")},model:p,changeModel:m};return Object(f.jsx)(i.a,{theme:P,children:Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)(j.a,{}),Object(f.jsxs)(y.Provider,{value:v,children:[Object(f.jsx)(u.a,{align:"center",color:"secondary",variant:"h4",gutterBottom:!0,children:"NHTSA Recall Database"}),Object(f.jsx)(D,{}),Object(f.jsx)(B,{})]})]})})};o.a.render(Object(f.jsx)(T,{}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.c4801e21.chunk.js.map