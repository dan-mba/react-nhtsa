(this["webpackJsonpreact-nhtsa"]=this["webpackJsonpreact-nhtsa"]||[]).push([[0],{69:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a.n(c),o=a(34),s=a.n(o),i=a(10),j=a(95),u=a(96),l=a(22),b=a(90),d=a(92),h="https://one.nhtsa.gov/webapi/api/Recalls/vehicle",O="?format=json",p=a(11),m=a.n(p),v=a(98),x=a(99),f=a(97),g=Object(b.a)({root:{width:"100%"}});function C(e){var t=e.children,a=e.label,c=e.value,r=e.onChange,o=g();return Object(n.jsxs)(v.a,{classes:{root:o.root},children:[Object(n.jsx)(x.a,{htmlFor:a,children:a}),c?Object(n.jsx)(f.a,{value:c,inputProps:{name:a,id:a},onChange:r,children:t}):Object(n.jsx)(f.a,{inputProps:{name:a,id:a},onChange:r,children:t})]})}var y=r.a.createContext();var R=function(){var e=Object(c.useContext)(y).changeYear,t=Object(c.useState)([]),a=Object(i.a)(t,2),r=a[0],o=a[1];return Object(c.useEffect)((function(){r.length||m.a.jsonp(h+O).then((function(e){for(var t=[],a=1;a<e.Count;a++)t.push(e.Results[a].ModelYear);o(t)}))})),Object(n.jsxs)(C,{label:"Year",onChange:function(t){var a=t.target.value;e(a)},children:[Object(n.jsx)("option",{value:""}),r.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e.toString())}))]})};var k=function(){var e=Object(c.useContext)(y),t=e.year,a=e.make,r=e.changeModel,o=Object(c.useState)([]),s=Object(i.a)(o,2),j=s[0],u=s[1];function l(e){var t=e.target.value;r(t)}return Object(c.useEffect)((function(){""!==t&&""!==a?m.a.jsonp(h+"/modelyear/"+t+"/make/"+a+O).then((function(e){for(var t=[],a=0;a<e.Count;a++)t.push(e.Results[a].Model);u(t)})):u([])}),[t,a]),Object(n.jsx)(y.Consumer,{children:function(e){var t=e.model;return Object(n.jsxs)(C,{value:t,onChange:l,label:"Model",children:[Object(n.jsx)("option",{value:""}),j.map((function(e){return Object(n.jsx)("option",{value:e.replace("/&/g","_"),children:e},e)}))]})}})};var S=function(){var e=Object(c.useContext)(y),t=e.year,a=e.changeMake,r=Object(c.useState)([]),o=Object(i.a)(r,2),s=o[0],j=o[1];function u(e){var t=e.target.value;a(t)}return Object(c.useEffect)((function(){""!==t&&m.a.jsonp(h+"/modelyear/"+t+O).then((function(e){for(var t=[],a=0;a<e.Count;a++)t.push(e.Results[a].Make);j(t)}))}),[t]),Object(n.jsx)(y.Consumer,{children:function(e){var t=e.make;return Object(n.jsxs)(C,{value:t,label:"Make",onChange:u,children:[Object(n.jsx)("option",{value:""}),s.map((function(e){return Object(n.jsx)("option",{value:e.replace("/&/g","_"),children:e},e)}))]})}})},M=Object(b.a)({root:{margin:"0 0 16px",width:"100%"}});var D=function(){var e=M();return Object(n.jsxs)(d.a,{container:!0,spacing:4,className:e.root,children:[Object(n.jsx)(d.a,{item:!0,xs:4,md:2,children:Object(n.jsx)(R,{})}),Object(n.jsx)(d.a,{item:!0,xs:8,md:4,children:Object(n.jsx)(S,{})}),Object(n.jsx)(d.a,{item:!0,xs:8,md:6,children:Object(n.jsx)(k,{})})]})},N=a(25),w=a(100),E=a(93),Y=a(94),A=Object(b.a)({root:{margin:0,width:"100%"},card:{height:"100%"},content:{height:"100%"}});var B=function(){var e=Object(c.useContext)(y),t=e.year,a=e.make,r=e.model,o=Object(c.useState)([]),s=Object(i.a)(o,2),j=s[0],u=s[1],b=A();return Object(c.useEffect)((function(){""!==t&&""!==a&&""!==r?m.a.jsonp(h+"/modelyear/"+t+"/make/"+a+"/model/"+r+O).then((function(e){var t=e.Results.map((function(e){var t=e.ReportReceivedDate?parseInt(e.ReportReceivedDate.slice(6,-1).split("-")[0]):0;return Object(N.a)(Object(N.a)({},e),{},{ReportReceivedDate:new Date(t)})}));t.sort((function(e,t){return t.ReportReceivedDate-e.ReportReceivedDate})),u(t)})):u([])}),[t,a,r]),Object(n.jsx)(d.a,{container:!0,spacing:4,justify:"center",className:b.root,children:j.map((function(e){return Object(n.jsx)(d.a,{item:!0,sm:12,md:6,children:Object(n.jsxs)(w.a,{className:b.card,children:[Object(n.jsx)(E.a,{title:e.NHTSACampaignNumber,subheader:(t=e.ReportReceivedDate,t.toDateString().slice(4))}),Object(n.jsxs)(Y.a,{classes:{root:b.content},children:[Object(n.jsx)(l.a,{variant:"body2",paragraph:!0,children:e.Summary}),Object(n.jsx)(l.a,{variant:"body2",paragraph:!0,children:e.Conequence}),Object(n.jsx)(l.a,{variant:"body2",paragraph:!0,children:e.Remedy})]})]})},e.NHTSACampaignNumber);var t}))})},H=a(39),P=Object(H.a)({palette:{primary:{main:"#212121"},secondary:{main:"#004c7b"},background:{default:"#dbe3e8",paper:"#f1f4f6"},text:{secondary:"#004c7b"}},overrides:{MuiCssBaseline:{"@global":{body:{maxWidth:1e3,margin:"0 auto",padding:"1%"}}}}});var T=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],o=t[1],s=Object(c.useState)(""),b=Object(i.a)(s,2),d=b[0],h=b[1],O=Object(c.useState)(""),p=Object(i.a)(O,2),m=p[0],v=p[1],x={year:a,changeYear:function(e){o(e),h(""),v("")},make:d,changeMake:function(e){h(e),v("")},model:m,changeModel:v};return Object(n.jsx)(j.a,{theme:P,children:Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(u.a,{}),Object(n.jsxs)(y.Provider,{value:x,children:[Object(n.jsx)(l.a,{align:"center",color:"secondary",variant:"h4",gutterBottom:!0,children:"NHTSA Recall Database"}),Object(n.jsx)(D,{}),Object(n.jsx)(B,{})]})]})})};s.a.render(Object(n.jsx)(T,{}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.c967ef47.chunk.js.map